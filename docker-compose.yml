services:
  voidgate:
    build: .
    container_name: voidgate
    ports:
      - "5555:5000"
    environment:
      - VOIDGATE_PASSWORD=${VOIDGATE_PASSWORD:-playground_voidgate}
      - VOIDGATE_HOST=0.0.0.0
    restart: unless-stopped
    # Security considerations for command execution
    cap_add:
      - SYS_ADMIN  # Only if needed for specific commands
    # Uncomment if you need to mount volumes for script execution
    # volumes:
    #   - ./scripts:/scripts:ro

  swagger-ui:
    image: swaggerapi/swagger-ui:latest
    container_name: voidgate-swagger
    ports:
      - "8080:8080"
    environment:
      - SWAGGER_JSON=/openapi.yaml
    volumes:
      - ./openapi.yaml:/openapi.yaml:ro
    depends_on:
      - voidgate
    restart: unless-stopped
